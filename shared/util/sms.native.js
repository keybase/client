// @flow
import {Linking} from 'react-native'
import {isAndroid} from '../constants/platform'

// based loosely off of https://github.com/anarchicknight/react-native-communications/blob/master/AKCommunications.js
// returns the promise generated by RN Linking helper
//      resolve => url opened
//      reject => user stopped the action / url didn't open
const openSMS = (phoneno: string, body?: string): Promise<any> => {
  const proto = 'sms:'
  let query = ''
  if (body) {
    query = isAndroid ? `?body=${body}` : `&body=${body}`
  }

  const url = proto + phoneno + query
  return Linking.openURL(url)
}

export default openSMS
