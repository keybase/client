<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Keybase-RemoteComponent</title>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <link rel="stylesheet" type="text/css" href="./fonticon.css" />
  </head>
  <body>
    <div id="remoteComponent">
      <div title="loading..." style="flex: 1;background-color: #f5f5f5"></div>
    </div>
    <script>
      function logToElectron() {
        ['log', 'warn', 'error'].forEach(key => {
          window.console[`_${key}`] = window.console[key]
          window.console[key] = function() {
            window.console[`_${key}`](...arguments)
            require('electron').ipcRenderer.send('console.' + key, Array.prototype.slice.call(arguments))
          }
        })
      }
      logToElectron()

      function getQueryVariable(variable) {
        var query = window.location.search.substring(1)
          var vars = query.split("&")
          for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=")
              if(pair[0] == variable){
                return pair[1]
              }
          }
        return false
      }

      var script = document.createElement('script')
      script.src = getQueryVariable('src')
      script.async = true
      document.getElementsByTagName('head')[0].appendChild(script)
    </script>
  </body>
</html>
