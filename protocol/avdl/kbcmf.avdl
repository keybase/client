@namespace("keybase.1")

protocol kbcmf {
  import idl "common.avdl";
  import idl "identify_common.avdl";

  record KBCMFEncryptOptions {
    array<string> recipients; // user assertions
    TrackOptions trackOptions;
  }

  void kbcmfEncrypt(int sessionID, Stream source, Stream sink, KBCMFEncryptOptions opts);

  record KBCMFDecryptOptions {
    TrackOptions trackOptions;
  }

  void kbcmfDecrypt(int sessionID, Stream source, Stream sink, KBCMFDecryptOptions opts);
}
